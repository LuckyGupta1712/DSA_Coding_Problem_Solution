class Solution {
    List<List<Integer>> res= new ArrayList<>();
    public List<List<Integer>> allPathsSourceTarget(int[][] graph) {
        ArrayList<Integer> list=new ArrayList<>();
         int n=graph.length;
        boolean[] visited=new boolean[n];
       
        list.add(0);
        printPaths(graph,0, n-1,visited,list);
        return res;
        
    }
    private void printPaths(int[][] graph, int curr, int target,boolean[] visited, ArrayList<Integer> list){
        if(curr== target){
            res.add(new ArrayList(list));
            return;
        }
        for(int x: graph[curr]){
            if(!visited[x]){
                visited[x]=true;
                list.add(x);
                printPaths(graph, x, target, visited, list);
                list.remove(list.size()-1);
                visited[x]=false;
            }
        }
    }
}
